<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{
            padding: 0;
            margin: 0;

        }
        canvas{
            display: block;
            position: absolute;
        }
    </style>
</head>
<body>
<canvas id="painting"></canvas>
<canvas id="painting2"></canvas>

<script>
    {
        let painting = document.getElementById("painting2");
        painting.height = window.innerHeight;
        painting.width = window.innerWidth;
        let ctx = painting.getContext("2d");

        let counter = 1;
        function paint() {
            ctx.clearRect(0, 0, painting.width, painting.height);
            ctx.save();
            ctx.translate(100, 100);
            ctx.rotate(counter++ % 180 / 180 * Math.PI);
            ctx.fillRect(-50, -10, 100, 20);
            ctx.restore();
            window.requestAnimationFrame(paint);
        }
        window.requestAnimationFrame(paint);
    }
</script>
<script>
    {
        let painting = document.getElementById("painting");
        painting.height = window.innerHeight;
        painting.width = window.innerWidth;
        let ctx = painting.getContext("2d");

        let now = performance.now();
        let length = 6000; //6 Sekunden bis zur Umdrehung
        function paint(timestamp) {
            ctx.clearRect(0, 0, painting.width, painting.height);
            ctx.fillStyle="#FF0000";
            ctx.save();
            ctx.translate(100, 100);
            ctx.rotate(((timestamp - now) % length / length) * 2 * Math.PI);
            //ctx.rotate(((timestamp - now)  / length) % 1 * 2 * Math.PI);
            ctx.fillRect(-50, -10, 100, 20);
            ctx.restore();
            window.requestAnimationFrame(paint);
        }

        window.requestAnimationFrame(paint);
    }
</script>

<script>
    {
        function sleep() {
            for(let x = 0; x < 5000000; x++)
            {

            }
            setTimeout(sleep, 200);
        }
        setTimeout(sleep, 200);
    }
</script>
</body>
</html>